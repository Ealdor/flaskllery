<!-- extend base layout -->
{% extends "member_base.html" %}
{% from "_macros.html" import render_pagination %}
{% from "_macros.html" import render_delete_modal %}

{% block page_header %}
<h1>{{ album.title }}
    <br />
    <small>{{ album.description }}</small>
</h1>
{% endblock %}

{% block page_navbar %}
<li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{ _('Album') }}</a>
    <ul class="dropdown-menu">
        <li><a href="{{ url_for('gallery.edit_album', id=album.id) }}">{{ _('Edit') }}</a></li>
        <li><a href="#" data-toggle="modal" data-target="#deleteModal" data-message="{{ _('Are you sure you want to remove %(album)s album? Deleting an album will delete all the inside directory and photos', album=album.title) }}" data-url="{{ url_for('gallery.delete_album', id=album.id) }}">{{ _('Delete') }}</a></li>
        <li><a href="{{ url_for('gallery.refresh_album', id=album.id) }}">{{ _('Refresh') }}</a></li>
    </ul>
</li>
{% endblock %}

{% block page_content %}
<div class="row">
{% for photo in photos.items %}
<div class="col-md-3 portfolio-item thumb">
    <a href="#" class="thumbnail" data-toggle="modal" data-target="#photoModal" data-id="{{ photo.id }}">
        <img class="img-responsive" src="{{ url_for('gallery.photo', id=photo.id, width='450', height='300') }}">
    </a>
</div>
{% if loop.index is divisibleby 4 %}
<div class="clearfix"></div>
{% endif %}
{% endfor %}
</div>
{{ render_pagination(photos, id=album.id) }}

<div class="modal fade" id="photoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body">
                <div class="row text-center">
                    <img class="img-responsive photo" src="http://placehold.it/900x600">
                </div>
                <div class="row">
                    <div class="col-md-8">
                        <h4>
                            <span id="image-title"></span>
                            <br>
                            <small><span id="image-caption"></span></small>
                        </h4>
                    </div>
                    <div class="col-md-4 vcenter">
                        <div class="btn-toolbar" role="toolbar">
                            <br>
                            <div class="btn-group">
                                <a href="#" class="btn btn-default btn-more-info" aria-label="{{ _('Information') }}"><span class="glyphicon glyphicon-info-sign"></span></a>
                                <a href="#" class="btn btn-default btn-open" aria-label="{{ _('Open') }}"><span class="glyphicon glyphicon-folder-open"></span></a>
                                <a href="#" class="btn btn-default btn-edit" aria-label="{{ _('Edit') }}"><span class="glyphicon glyphicon-pencil"></span></a>
                                <a href="#" class="btn btn-default btn-download" aria-label="{{ _('Download') }}" target="_blank"><span class="glyphicon glyphicon-download"></span></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="more-info hide">
                    <ul id="ImageInfoTab" class="nav nav-tabs">
                        <li role="presentation" class="active"><a href="#general" data-toggle="tab">{{ _('General') }}</a></li>
                        <li role="presentation"><a href="#exif" data-toggle="tab">{{ _('Exif') }}</a></li>
                    </ul>
                    <div id="ImageInfoTabContent" class="tab-content">
                        <div class="tab-pane fade in active" id="general">
                            <p>{{_('General Information') }}</p>
                        </div>
                        <div class="tab-pane fade" id="exif">
                            <p>{{ _('Exif Information') }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block page_modals %}
{{ super() }}
{{ render_delete_modal() }}
{% endblock %}
